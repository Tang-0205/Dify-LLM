<div align="center">
  
# Dify

平台的名稱來自 "Define"（定義）和 "Modify"（修改），象徵著定義並不斷改進你的 AI 應用。

</div>

# Dify 介紹

## ✨核心架構與特點

包含三個核心組件：

1. **多 LLMs 協作**：無縫連接並切換各種領先的大型語言模型
2. **視覺化工作室**：`拖放`介面，用於設計人工智慧工作流程、訓練人工智慧代理以及配置 `RAG` 系統
3. **部署中心**：`一鍵部署`人工智慧應用程式為 API、聊天機器人或內部商業工具

該平台內建了構建 LLM 應用所需的`關鍵技術`堆疊，包括支援`數百種模型`、`直觀的 Prompt 編排`界面、高品質的 `RAG` 引擎以及靈活的 `Agent` 架構，同時提供一系列易於使用的介面和 API。這為開發者`節省了大量重複`的時間，讓他們專注於創新和業務需求。

## ✨主要功能

### 1. 工作流

Dify Workflow 是一個`視覺化`管道建構器，專為創建與測試人工智慧工作流程而設計，`無需大量編碼`。使用者可以透過直觀的拖放介面快速自動化複雜的流程。

平台提供兩種工作流類型：`Chatflow`（對話型）和 `Workflow`（標準工作流）。

### 2. RAG 檢索增強生成

Dify 的 RAG 引擎透過整合來自外部來源的`即時資料檢索功能`，大幅提升 LLM 的輸出效果。與傳統 LLM（例如 ChatGPT）不同，Dify RAG 能夠訪問來自`文件`、`資料庫`或`網頁來源`的最新專有資料，確保回應的準確性與上下文相關性。

RAG 功能涵蓋了`從檔案匯入到檢索`的全過程，並支援`多種檔案格式`如 PDF 和 PPT 的文本提取。

### 3. AI Agent 智能體

Dify Agents 使組織能夠部署嵌入特定領域知識的`個性化`人工智慧聊天機器人與虛擬助理。這些人工智慧智慧體能夠`自主處理` CRM、客戶支援、研究等多項任務。使用者可以使用 `LLM 函式呼叫`或 `ReAct 定義代理`，並內建預構建或自訂工具，Dify 提供超過 50 種`內建的 AI 代理`工具，如 Google 搜尋、DALL·E、Stable Diffusion 和 WolframAlpha。

### 4. 模型支援與管理

該平台支援無縫內建數百種專有和開源 LLM，包括流行的 GPT、Mistral、Llama3、Qwen 以及`任何相容 OpenAI API` 的模型。平台還支持模型參數的`詳細設置`，如溫度、tokens 長度等。

### 5. LLMOps 與監控

該平台包括觀察功能，用於`監視和分析`應用程式的日誌和效能，從而根據實際資料和註釋進行`連續改進`。

## ✨Dify 的優缺點分析

**主要優勢**

使用簡便程度極高，對於初學者和非編碼人員來說非常友好，提供視覺界面且需要最少的編碼。Dify 將很多熱門工具和第三方 API 接口內置在系統組件中，對初級用戶更友好。平台支援多租戶功能，適合團隊協作，多用戶可以在團隊內透明共享數據。

Dify 提供強大的調試功能，支持多模型同步調試、單節點調試以及調試歷史記錄。工作流功能更強大，支持更多內置工具和應用調用。對社區更友好，提供版權和隱私政策聲明、樣式定制、內容審察，以及 GitHub、Google 註冊和登錄。

平台為每一個創建的智能體提供了非常友好的代碼嵌入方式，可以直接嵌入到自己的網頁應用中，代碼都寫好了，直接複製就行。此外，Dify 是開源的，支持完全本地部署，用戶可以保持對資料的完全控制。

**主要限制**

Dify 的靈活性和定制性僅限於預構建組件和視覺工作流程，雖然通過配置、自定義代碼片段和與外部 API 的集成提供了定制選項，但相比純代碼開發仍有限制。工作流編排都還比較簡陋，調度非常不靈活，不支持模塊復用、循環、變量引用等比較複雜的函數功能。

不支援聊天內容導出和知識庫導出功能。作為開源平台，使用者需要自己提供大模型的 API key，也就是自己得花錢，特別是在處理大量知識庫預處理時，可能會產生較高的費用。對於高度複雜或大規模任務可能有限制。

## ✨Dify 的應用場景

**智慧客服與客戶支援**

企業可以利用 Dify 構建智能客服機器人，將產品手冊和常見問題上傳到知識庫，創建一個 24 小時在線的客服機器人。例如，某大型電商平台使用 Dify 創建了智能客服系統，大幅降低了人工客服壓力。行銷團隊可以快速創建工作流程，用於分析顧客情緒、生成回應草稿並將複雜案例升級至人工服務，這一切都能在幾分鐘內完成。

**內容創作與營銷自動化**

設定好格式和要求，讓 Dify 幫助生成營銷文案、社交媒體帖子或代碼草稿。數字營銷機構使用 Dify 創建內容生成助手，為不同平台（微信公眾號、微博、小紅書、邮件）創建了多個 Prompt 模板，營銷人員只需填寫關鍵信息，即可快速生成初稿，內容撰寫時間縮短 50% 以上。

**企業知識庫與問答系統**

上傳所有的筆記和資料，打造一個只回答個人問題的 AI 助手。大型製造企業利用 Dify 搭建內部智能問答平台，將公司各項規章制度、SOP、技術文檔等上傳到知識庫，員工可以通過自然語言提問快速獲得準確答案，平均信息查找時間縮短 70%。

**PDF/論文閱讀與分析**

上傳一篇長篇 PDF，直接向 AI 提問，讓它幫助總結核心觀點、解釋專業術語。醫療服務提供者可以利用 Dify RAG 訪問即時臨床研究、患者記錄與治療指南，提升患者護理的質量。

**工作流自動化**

Dify 可以構建各種生成式 AI 和 LLM 驅動的應用程式，包括內部生產力應用程式。常見使用場景包括自動化 FAQ 回應並升級複雜查詢、彙整競爭對手的定價資訊與市場研究、自動化日常任務如排程、電子郵件草稿撰寫與資料輸入、從多樣化的資料來源生成詳盡的商業報告。

## ✨Dify 的部署與安裝

**硬件要求**

最低配置為 2 核 CPU + 4GB 內存（測試環境），生產環境建議 4 核 CPU + 16GB 內存 + 100GB SSD。如果打算做完全本地部署（不用雲端大模型），Windows 電腦建議至少 16GB 系統內存（推薦 24GB 以上），Mac 建議 Apple Silicon（M1/M2/M3/M4）至少 16GB 統一內存（推薦 32GB）。

**Docker Compose 部署流程**

首先需要安裝並執行 Docker Desktop。通過以下步驟進行部署：

1. 克隆 Dify 源碼：`git clone https://github.com/langgenius/dify.git`
2. 進入 Docker 目錄：`cd dify/docker`
3. 複製環境配置文件：`cp .env.example .env`
4. 啟動服務：`docker compose up -d`
5. 訪問控制台：`http://localhost/install` 完成管理員初始化

Windows 需啟用 WSL2，macOS 建議分配 8GB Docker 內存。部署完成後，可以看到多個容器正在運行，包括 nginx、api、worker、web 等組件。

**雲端版本**

Dify 提供零設定的雲服務，包括自託管版本的所有功能。Sandbox 計劃提供 200 次免費的 GPT-4 呼叫以供試驗。雲端版本無需本地部署，直接註冊即可使用。

## ✨Dify 操作流程詳解

**初始設置**

首次使用需要進行模型設置，點擊首頁右上角的個人賬戶，下拉點擊設置，進入設置頁面。點擊左側"模型供應商"，配置需要的模型，目前智譜、通義千問、訊飛、零一等都可以使用。一定要配置好系統模型，新建應用自動生成提示詞、顯示回答問題提示都會用到，配置在當前頁面的右上角"系統模型設置"。

Dify 支援的模型包括 OpenAI、訊飛星火、智譜 ChatGLM、零一萬物、通義千問、文心一言、月之暗面，還支持 Ollama、LocalAI，以及兼容 OpenAI 的模型。

**創建應用的三種方式**

您可以通過三種方式在 Dify 的工作室中建立應用程式：基於應用模板創建（建議初學者）、創建空白應用、通過 DSL 檔案（本地/在線）創建應用。

**從範本創建應用（推薦新手）**

初次使用 Dify 時，可以從導航功能表中選擇"Studio"，然後在應用程式清單中選擇"Create from Template"。Dify 團隊的提示工程師已經為多場景創建了高質量的應用模板。任意選擇一個喜歡或需要的模板，鼠標放在模板上會浮現出【使用該模板】的按鈕，點擊按鈕，然後選擇應用圖標，填寫應用名稱和描述，將該模板添加至工作區。

以"三步翻譯工作流"作為範例，創建工作流後可以開始編輯工作流，通過檢測專業術語、直譯、審校、二次自由翻譯等步驟，提高專業文章翻譯的準確性。

**創建空白應用**

選擇"創建應用"，確定類型（如"對話型"用於聊天機器人，"文本生成型"用於文章創作）。在"提示詞編排"中，定義 AI 的角色、目標和回復規則，可以插入 `{{變量名}}`，讓用戶輸入動態內容。

點擊開始節點，右邊會出現該節點的資訊，以及下一步節點的資訊。可以在「輸入字段」增加變數，變數可以在 Prompt 中使用。

**設計提示詞與配置**

在"工具"中，可以添加需要使用的工具，工具可以擴展 LLM 的能力，比如聯網搜索、科學計算或繪製圖片，賦予並增強了 LLM 連接外部世界的能力。

如果需要 AI 基於特定知識回答，進入"數據集"創建一個知識庫，上傳文檔，然後在應用中將其掛載。Dify 支持多種文檔格式的上傳和處理。

**調試與測試**

在右側的預覽窗口中，直接與 AI 應用進行對話或測試，實時調整 Prompt。可以實時追蹤運行過程，點擊每個節點都可以看到過程數據，等完全執行完畢，可以去結果 tab 中查看最終的結果。

Dify 支持多模型同步調試、單節點調試、調試歷史記錄。在調試階段能直接查看輸入輸出、token 消耗和運行時間。

**發布與集成**

測試滿意後，即可獲得 API 密鑰或一段 JS 代碼，輕鬆將其集成到網站或產品中。Dify 為其所有功能提供對應的 API，允許輕鬆內建到現有業務邏輯中。平台自動生成可用的 API 或可嵌入網頁的前端應用。

**進階功能配置**

在工作流編排中，可以使用更複雜的節點配置，包括 LLM 模型調用、知識庫檢索、插件調用、條件判斷、代碼執行等。支持本地沙盒，運行 Python 和 JavaScript 腳本。Workflow 節點支持並行執行，可以在一個節點同時觸發多個子任務，然後再合併結果。

與 LangChain 這類庫相比，Dify 提供的是一個更適合生產環境的完整解決方案，更像是具有精細工程設計和軟體測試的腳手架系統。這使得即使是沒有深厚技術背景的用戶也能快速構建和部署專業級的 AI 應用。
