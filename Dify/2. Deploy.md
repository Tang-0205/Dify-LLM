<div align="center">

# Dify 的部署與安裝

</div>

# 1. 本地部屬

## ▶️ 硬件要求

- 最低配置為 2 核 CPU + 4GB 內存（測試環境）
- 生產環境建議 4 核 CPU + 16GB 內存 + 100GB SSD
- 如果打算做完全本地部署（不用雲端大模型）：
  - Windows 電腦建議至少 16GB 系統內存（推薦 24GB 以上）
  - Mac 建議 Apple Silicon（M1/M2/M3/M4）至少 16GB 統一內存（推薦 32GB）。

## ▶️ Docker Compose 部署流程

首先需要安裝並執行 Docker Desktop。通過以下步驟進行部署：

1. 克隆 Dify 源碼：`git clone https://github.com/langgenius/dify.git`
2. 進入 Docker 目錄：`cd dify/docker`
3. 複製環境配置文件：`cp .env.example .env`
4. 啟動服務：`docker compose up -d`
5. 訪問控制台：`http://localhost/install` 完成管理員初始化

Windows 需啟用 WSL2，macOS 建議分配 8GB Docker 內存。部署完成後，可以看到多個容器正在運行，包括 nginx、api、worker、web 等組件。

# 2. 雲端版本

Dify 提供零設定的雲服務，包括自託管版本的所有功能。Sandbox 計劃提供 200 次免費的 GPT-4 呼叫以供試驗。雲端版本無需本地部署，直接註冊即可使用。

## Dify 操作流程詳解

**初始設置**

首次使用需要進行模型設置，點擊首頁右上角的個人賬戶，下拉點擊設置，進入設置頁面。點擊左側"模型供應商"，配置需要的模型，目前智譜、通義千問、訊飛、零一等都可以使用。一定要配置好系統模型，新建應用自動生成提示詞、顯示回答問題提示都會用到，配置在當前頁面的右上角"系統模型設置"。

Dify 支援的模型包括 OpenAI、訊飛星火、智譜 ChatGLM、零一萬物、通義千問、文心一言、月之暗面，還支持 Ollama、LocalAI，以及兼容 OpenAI 的模型。

**創建應用的三種方式**

您可以通過三種方式在 Dify 的工作室中建立應用程式：基於應用模板創建（建議初學者）、創建空白應用、通過 DSL 檔案（本地/在線）創建應用。

**從範本創建應用（推薦新手）**

初次使用 Dify 時，可以從導航功能表中選擇"Studio"，然後在應用程式清單中選擇"Create from Template"。Dify 團隊的提示工程師已經為多場景創建了高質量的應用模板。任意選擇一個喜歡或需要的模板，鼠標放在模板上會浮現出【使用該模板】的按鈕，點擊按鈕，然後選擇應用圖標，填寫應用名稱和描述，將該模板添加至工作區。

以"三步翻譯工作流"作為範例，創建工作流後可以開始編輯工作流，通過檢測專業術語、直譯、審校、二次自由翻譯等步驟，提高專業文章翻譯的準確性。

**創建空白應用**

選擇"創建應用"，確定類型（如"對話型"用於聊天機器人，"文本生成型"用於文章創作）。在"提示詞編排"中，定義 AI 的角色、目標和回復規則，可以插入 `{{變量名}}`，讓用戶輸入動態內容。

點擊開始節點，右邊會出現該節點的資訊，以及下一步節點的資訊。可以在「輸入字段」增加變數，變數可以在 Prompt 中使用。

# 3. 企業版
如果是企業，Dify還提供額外功能，並支援在 `AWS Marketplace` 上一鍵部署至自己的 AWS VPC。


